import{H as x}from"./Header-CPcTArx-.js";import{_ as g,r as u,o as k,c as _,e as s,f as n,g as e,x as b,j as S,t as l,F as h,p,A as d}from"./index-CUX7TRhT.js";const N={class:"view-wrapper"},w={class:"settlement-view"},I={key:0,class:"content-container loading"},L={key:1,class:"content-container error"},V={key:2,class:"content-container"},A={class:"summary-header"},R={class:"trip-name"},B={class:"total-amount"},D={class:"settlement-card bg-theme-primary"},T={class:"transaction-list"},C={key:0},F={class:"member-info"},H={class:"avatar bg-theme-secondary"},M={class:"font-semibold text-sm text-theme-text"},j={class:"amount text-theme-text"},E={key:1,class:"empty-message text-theme-text"},P={class:"settlement-card bg-theme-secondary"},$={class:"transaction-list"},q={key:0},z={class:"member-info"},G={class:"avatar bg-theme-primary"},J={class:"font-semibold text-sm text-white"},K={class:"amount text-white"},O={key:1,class:"empty-message text-white"},Q={class:"summary-card"},U={key:0,class:"text-theme-text"},W={class:"font-bold text-lg text-theme-blue"},X={key:1,class:"text-theme-text"},Y={class:"font-bold text-lg text-theme-red"},Z={key:2,class:"font-bold text-theme-text"},ee={class:"footer"},te=["disabled"],se={__name:"SettlementDetailView",setup(ne){const o=u(null),v=u(!0),m=u(null);k(async()=>{try{await new Promise(a=>setTimeout(a,500)),o.value={tripName:"ì„œìš¸ ìš°ì •ì—¬í–‰",totalAmount:39e4,toReceive:[{settlementId:1,senderNickname:"ì´ê±´ìš°",amount:12500},{settlementId:2,senderNickname:"ìµœì •í›ˆ",amount:4e4},{settlementId:3,senderNickname:"ê¶Œì¤€í˜¸",amount:5e4}],toSend:[]}}catch(a){console.error("ê°œì¸ ì •ì‚° ì •ë³´ ë¡œë”© ì‹¤íŒ¨:",a),m.value="ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."}finally{v.value=!1}});const y=_(()=>o.value?o.value.toReceive.reduce((a,t)=>a+t.amount,0):0),r=_(()=>o.value?o.value.toSend.reduce((a,t)=>a+t.amount,0):0),c=_(()=>y.value-r.value),f=async()=>{if(r.value===0){alert("ë³´ë‚¼ ëˆì´ ì—†ìŠµë‹ˆë‹¤.");return}if(confirm(`ì´ ${r.value.toLocaleString()}ì›ì„ ì†¡ê¸ˆí• ê¹Œìš”?`))try{const a=o.value.toSend.map(t=>t.settlementId);alert("ì†¡ê¸ˆì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!")}catch(a){console.error("ì†¡ê¸ˆ ì‹¤íŒ¨:",a),alert("ì†¡ê¸ˆ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}};return(a,t)=>(n(),s("div",N,[e("div",w,[b(x,{title:"ì •ì‚°í•˜ê¸°"}),v.value?(n(),s("main",I,t[0]||(t[0]=[e("p",null,"ë‚´ ì •ì‚° ë‚´ì—­ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...",-1)]))):m.value?(n(),s("main",L,[e("p",null,l(m.value),1)])):o.value?(n(),s("main",V,[e("div",A,[e("p",R,l(o.value.tripName),1),e("h2",B," ì´ "+l(o.value.totalAmount?.toLocaleString()||0)+"ì› ì‚¬ìš© ",1)]),e("div",D,[t[1]||(t[1]=e("p",{class:"card-title text-theme-text"},"ğŸ’¸ ë°›ì„ ëˆ",-1)),e("div",T,[o.value.toReceive.length>0?(n(),s("div",C,[(n(!0),s(h,null,p(o.value.toReceive,i=>(n(),s("div",{key:i.settlementId,class:"transaction-item"},[e("div",F,[e("div",H,[e("span",null,l(i.senderNickname.substring(0,1)),1)]),e("span",M,l(i.senderNickname),1)]),e("span",j,l(i.amount.toLocaleString())+"ì›",1)]))),128))])):(n(),s("p",E," ë°›ì„ ëˆì´ ì—†ìŠµë‹ˆë‹¤. "))])]),e("div",P,[t[2]||(t[2]=e("p",{class:"card-title text-white"},"ğŸ’Œ ë³´ë‚¼ ëˆ",-1)),e("div",$,[o.value.toSend.length>0?(n(),s("div",q,[(n(!0),s(h,null,p(o.value.toSend,i=>(n(),s("div",{key:i.settlementId,class:"transaction-item"},[e("div",z,[e("div",G,[e("span",null,l(i.receiverNickname.substring(0,1)),1)]),e("span",J,l(i.receiverNickname),1)]),e("span",K,l(i.amount.toLocaleString())+"ì›",1)]))),128))])):(n(),s("p",O,"ë³´ë‚¼ ëˆì´ ì—†ìŠµë‹ˆë‹¤."))])]),e("div",Q,[c.value>0?(n(),s("p",U,[t[3]||(t[3]=d(" ì´ ",-1)),e("span",W,l(c.value.toLocaleString())+"ì›",1),t[4]||(t[4]=d("ì„ ë°›ìœ¼ë©´ ì •ì‚° ì™„ë£Œ! ",-1))])):c.value<0?(n(),s("p",X,[t[5]||(t[5]=d(" ì´ ",-1)),e("span",Y,l(Math.abs(c.value).toLocaleString())+"ì›",1),t[6]||(t[6]=d("ì„ ë³´ë‚´ë©´ ì •ì‚° ì™„ë£Œ! ",-1))])):(n(),s("p",Z,"ì •ì‚°ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!"))])])):S("",!0),e("footer",ee,[e("button",{onClick:f,class:"next-button",disabled:r.value===0}," ì†¡ê¸ˆí•˜ê¸° ",8,te)])])]))}},le=g(se,[["__scopeId","data-v-f1cd6343"]]);export{le as default};
