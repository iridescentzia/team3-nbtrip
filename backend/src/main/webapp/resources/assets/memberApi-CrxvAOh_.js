import{a as s}from"./index-US_OYwol.js";const a=async e=>{try{return(await s.post("/auth/register",{email:e.email,password:e.password,passwordConfirm:e.passwordConfirm,nickname:e.nickname,name:e.name,phoneNumber:e.phoneNumber,fcmToken:e.fcmToken||""})).data}catch(r){throw o(r,"회원가입")}},c=async e=>{try{return(await s.post("/auth/login",{email:e.email,password:e.password,fcmToken:e.fcmToken||""})).data}catch(r){throw o(r,"로그인")}},p=async()=>{try{return(await s.post("/auth/logout")).data}catch(e){throw o(e,"로그아웃")}},u=async e=>{try{return(await s.post("/users/check-nickname",{nickname:e})).data}catch(r){throw o(r,"닉네임 중복 확인")}},w=async e=>{try{return(await s.get(`/users/${e}`)).data}catch(r){throw o(r,"사용자 정보 조회")}},i=async e=>{try{return(await s.put("/users/fcm-token",{fcmToken:e.fcmToken})).data}catch(r){throw o(r,"FCM 토큰 갱신")}},h=async()=>{try{return(await s.get("/mypage")).data}catch(e){throw o(e,"내 정보 조회")}},m=async e=>{try{return(await s.post("/mypage/verify-password",{currentPassword:e})).data}catch(r){throw o(r,"비밀번호 확인")}},d=async e=>{try{return(await s.put("/mypage",{nickname:e.nickname,name:e.name,phoneNumber:e.phoneNumber,email:e.email,password:e.password,passwordConfirm:e.passwordConfirm})).data}catch(r){throw o(r,"회원정보 수정")}},o=(e,r)=>{if(console.error(`${r} 중 오류:`,e),e.response){const{status:t,data:n}=e.response;switch(t){case 400:return new Error(n.message||"잘못된 요청입니다.");case 401:return new Error("인증이 필요하거나 토큰이 만료되었습니다.");case 403:return new Error("접근 권한이 없습니다.");case 404:return new Error("요청한 정보를 찾을 수 없습니다.");case 409:return new Error(n.message||"중복된 정보가 있습니다.");case 500:return new Error("서버 내부 오류가 발생했습니다.");default:return new Error(n.message||`${r} 중 오류가 발생했습니다.`)}}else return e.request?new Error("네트워크 연결을 확인해주세요."):new Error(`${r} 중 예상치 못한 오류가 발생했습니다.`)},l=e=>e&&(e.success===!0||e.status==="success"),y=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")},k=()=>localStorage.getItem("accessToken"),f=e=>{localStorage.setItem("accessToken",e)},T={registerMember:a,loginMember:c,logoutMember:p,getUserInfo:w,updateFcmToken:i,checkNicknameDuplicate:u,verifyPassword:m,getMyInfo:h,updateMyInfo:d,isApiSuccess:l,clearTokens:y,getStoredToken:k,setStoredToken:f};export{c as a,u as b,y as c,h as g,p as l,T as m,a as r,f as s,d as u,m as v};
