import{_ as J,r as l,e as P,f as i,h as s,m as V,l as w,i as t,p as u,H as S,t as C,C as N,A as j,F as z,q as R,z as q,g as d,u as A}from"./index-63xutS7e.js";import{b as E,r as I}from"./memberApi-jdj9oEfP.js";import{B as L}from"./Button-BO2nfGam.js";import{H as X}from"./Header-Be37AaWa.js";import"./createLucideIcon-R9XTMovA.js";const G="/assets/sitting_cat-DJRx2Xj_.png",K={class:"join-container"},O={class:"form-area"},Q={class:"nickname-wrapper"},W={key:0,class:"nickname-check-message"},Y={class:"password-check"},Z={key:0,class:"error"},$={key:1,class:"success"},_={class:"select-box"},h=["value"],ee={class:"bottom-fixed"},se={__name:"JoinPage",emits:["signup-complete"],setup(ae,{emit:U}){const B=q(),M=U,r=l(""),p=l(""),v=l(""),c=l(""),m=l(""),o=l(""),b=l(""),k=l(""),D=l("dummy-token"),y=l(!1),f=l(!1),x=l(""),g=P(()=>m.value===o.value),T=l([{code:"003",name:"기업은행"},{code:"004",name:"국민은행"},{code:"011",name:"농협은행"},{code:"020",name:"우리은행"},{code:"023",name:"SC제일은행"},{code:"027",name:"한국시티은행"},{code:"081",name:"하나은행"},{code:"088",name:"신한은행"},{code:"090",name:"카카오뱅크"},{code:"092",name:"토스뱅크"}]),F=async()=>{if(!r.value.trim()){alert("닉네임을 입력해주세요.");return}try{const n=await E(r.value);f.value=!0,x.value=n.message||"사용 가능한 닉네임입니다.",y.value=!0}catch(n){f.value=!1,y.value=!1,x.value=n.message||"이미 사용 중인 닉네임입니다."}},H=async()=>{if(!r.value||!p.value||!v.value||!c.value||!m.value||!o.value||!b.value||!k.value){alert("모든 항목을 입력해주세요.");return}if(!y.value||!f.value){alert("닉네임 중복 확인을 해주세요.");return}if(!g.value){alert("비밀번호가 일치하지 않습니다.");return}try{(await I({email:c.value,password:m.value,passwordConfirm:o.value,nickname:r.value,name:p.value,phoneNumber:v.value,bankCode:b.value,accountNumber:k.value,fcmToken:D.value})).success&&(alert("회원가입이 완료되었습니다!"),M("signup-complete"))}catch(n){alert(n.message||"회원가입 실패")}};return(n,e)=>(d(),i("div",K,[e[20]||(e[20]=s("br",null,null,-1)),V(X,{title:"회원 정보 입력","back-action":()=>A(B).back()},null,8,["back-action"]),s("div",O,[e[10]||(e[10]=s("div",{class:"title-area"},[s("h1",null,"회원 정보 입력"),s("img",{src:G,class:"cat"})],-1)),e[11]||(e[11]=s("label",{class:"label"},"닉네임",-1)),s("div",Q,[t(s("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>r.value=a),type:"text",class:"nickname-input"},null,512),[[u,r.value]]),s("button",{class:"nickname-check-button",onClick:F},"중복 확인")]),x.value?(d(),i("div",W,[s("span",{class:S(f.value?"success":"error")},C(x.value),3)])):w("",!0),e[12]||(e[12]=s("label",{class:"label"},"이름",-1)),t(s("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>p.value=a),type:"text",class:"input-box"},null,512),[[u,p.value]]),e[13]||(e[13]=s("label",{class:"label"},"전화번호",-1)),t(s("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>v.value=a),type:"text",class:"input-box",placeholder:"010-1234-5678"},null,512),[[u,v.value]]),e[14]||(e[14]=s("label",{class:"label"},"이메일",-1)),t(s("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>c.value=a),type:"email",class:"input-box"},null,512),[[u,c.value]]),e[15]||(e[15]=s("label",{class:"label"},"비밀번호",-1)),t(s("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>m.value=a),type:"password",class:"input-box"},null,512),[[u,m.value]]),e[16]||(e[16]=s("p",{class:"password-rules"},[N(" • 비밀번호는 영문 소문자, 숫자를 포함해 최소 9자리 이상이어야 한다."),s("br"),N(" • 3자 이상의 연속되는 글자, 숫자는 사용이 불가능하다. ")],-1)),e[17]||(e[17]=s("label",{class:"label"},"비밀번호 확인",-1)),t(s("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>o.value=a),type:"password",class:"input-box"},null,512),[[u,o.value]]),s("div",Y,[o.value&&!g.value?(d(),i("span",Z,"비밀번호가 동일하지 않습니다.")):w("",!0),o.value&&g.value?(d(),i("span",$,"비밀번호가 동일합니다.")):w("",!0)]),e[18]||(e[18]=s("label",{class:"label"},"은행 선택",-1)),s("div",_,[t(s("select",{"onUpdate:modelValue":e[6]||(e[6]=a=>b.value=a),class:"input-box"},[e[8]||(e[8]=s("option",{disabled:"",value:""},"은행을 선택하세요",-1)),(d(!0),i(z,null,R(T.value,a=>(d(),i("option",{key:a.code,value:a.code},C(a.name),9,h))),128))],512),[[j,b.value]]),e[9]||(e[9]=s("div",{class:"dropdown-icon"},null,-1))]),e[19]||(e[19]=s("label",{class:"label"},"계좌번호",-1)),t(s("input",{"onUpdate:modelValue":e[7]||(e[7]=a=>k.value=a),type:"text",class:"input-box"},null,512),[[u,k.value]])]),s("div",ee,[V(L,{label:"회원가입",onClick:H})])]))}},re=J(se,[["__scopeId","data-v-773a52d2"]]);export{re as default};
