import{H as k}from"./Header-DBB-Wx7L.js";import{_ as y,r as u,o as g,c as _,e as s,f as n,g as t,x as S,j as b,t as l,F as h,p,A as d}from"./index-BXoqDEw8.js";const N={class:"view-wrapper"},w={class:"settlement-view"},I={key:0,class:"content-container loading"},L={key:1,class:"content-container error"},V={key:2,class:"content-container"},A={class:"summary-header"},R={class:"trip-name"},B={class:"total-amount"},D={class:"settlement-card"},T={class:"transaction-list"},C={key:0},F={class:"member-info"},H={class:"avatar"},M={class:"font-semibold text-sm text-theme-text"},j={class:"amount text-theme-text"},E={key:1,class:"empty-message text-theme-text"},P={class:"settlement-card"},$={class:"transaction-list"},q={key:0},z={class:"member-info"},G={class:"avatar"},J={class:"font-semibold text-sm text-white"},K={class:"amount text-white"},O={key:1,class:"empty-message text-white"},Q={class:"summary-card"},U={key:0,class:"text-theme-text"},W={class:"font-bold text-lg text-theme-blue"},X={key:1,class:"text-theme-text"},Y={class:"font-bold text-lg text-theme-red"},Z={key:2,class:"font-bold text-theme-text"},tt={class:"footer"},et=["disabled"],st={__name:"SettlementDetailView",setup(nt){const o=u(null),v=u(!0),m=u(null);g(async()=>{try{await new Promise(a=>setTimeout(a,500)),o.value={tripName:"ì„œìš¸ ìš°ì •ì—¬í–‰",totalAmount:39e4,toReceive:[{settlementId:1,senderNickname:"ì´ê±´ìš°",amount:12500},{settlementId:2,senderNickname:"ìµœì •í›ˆ",amount:4e4},{settlementId:3,senderNickname:"ê¶Œì¤€í˜¸",amount:5e4}],toSend:[]}}catch(a){console.error("ê°œì¸ ì •ì‚° ì •ë³´ ë¡œë”© ì‹¤íŒ¨:",a),m.value="ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."}finally{v.value=!1}});const f=_(()=>o.value?o.value.toReceive.reduce((a,e)=>a+e.amount,0):0),r=_(()=>o.value?o.value.toSend.reduce((a,e)=>a+e.amount,0):0),c=_(()=>f.value-r.value),x=async()=>{if(r.value===0){alert("ë³´ë‚¼ ëˆì´ ì—†ìŠµë‹ˆë‹¤.");return}if(confirm(`ì´ ${r.value.toLocaleString()}ì›ì„ ì†¡ê¸ˆí• ê¹Œìš”?`))try{const a=o.value.toSend.map(e=>e.settlementId);alert("ì†¡ê¸ˆì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!")}catch(a){console.error("ì†¡ê¸ˆ ì‹¤íŒ¨:",a),alert("ì†¡ê¸ˆ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}};return(a,e)=>(n(),s("div",N,[t("div",w,[S(k,{title:"ì •ì‚°í•˜ê¸°"}),v.value?(n(),s("main",I,e[0]||(e[0]=[t("p",null,"ë‚´ ì •ì‚° ë‚´ì—­ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...",-1)]))):m.value?(n(),s("main",L,[t("p",null,l(m.value),1)])):o.value?(n(),s("main",V,[t("div",A,[t("p",R,l(o.value.tripName),1),t("h2",B," ì´ "+l(o.value.totalAmount?.toLocaleString()||0)+"ì› ì‚¬ìš© ",1)]),t("div",D,[e[1]||(e[1]=t("p",{class:"card-title text-theme-text"},"ğŸ’¸ ë°›ì„ ëˆ",-1)),t("div",T,[o.value.toReceive.length>0?(n(),s("div",C,[(n(!0),s(h,null,p(o.value.toReceive,i=>(n(),s("div",{key:i.settlementId,class:"transaction-item"},[t("div",F,[t("div",H,[t("span",null,l(i.senderNickname.substring(0,1)),1)]),t("span",M,l(i.senderNickname),1)]),t("span",j,l(i.amount.toLocaleString())+"ì›",1)]))),128))])):(n(),s("p",E," ë°›ì„ ëˆì´ ì—†ìŠµë‹ˆë‹¤. "))])]),t("div",P,[e[2]||(e[2]=t("p",{class:"card-title text-white"},"ğŸ’Œ ë³´ë‚¼ ëˆ",-1)),t("div",$,[o.value.toSend.length>0?(n(),s("div",q,[(n(!0),s(h,null,p(o.value.toSend,i=>(n(),s("div",{key:i.settlementId,class:"transaction-item"},[t("div",z,[t("div",G,[t("span",null,l(i.receiverNickname.substring(0,1)),1)]),t("span",J,l(i.receiverNickname),1)]),t("span",K,l(i.amount.toLocaleString())+"ì›",1)]))),128))])):(n(),s("p",O,"ë³´ë‚¼ ëˆì´ ì—†ìŠµë‹ˆë‹¤."))])]),t("div",Q,[c.value>0?(n(),s("p",U,[e[3]||(e[3]=d(" ì´ ",-1)),t("span",W,l(c.value.toLocaleString())+"ì›",1),e[4]||(e[4]=d("ì„ ë°›ìœ¼ë©´ ì •ì‚° ì™„ë£Œ! ",-1))])):c.value<0?(n(),s("p",X,[e[5]||(e[5]=d(" ì´ ",-1)),t("span",Y,l(Math.abs(c.value).toLocaleString())+"ì›",1),e[6]||(e[6]=d("ì„ ë³´ë‚´ë©´ ì •ì‚° ì™„ë£Œ! ",-1))])):(n(),s("p",Z,"ì •ì‚°ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!"))])])):b("",!0),t("footer",tt,[t("button",{onClick:x,class:"next-button",disabled:r.value===0}," ì†¡ê¸ˆí•˜ê¸° ",8,et)])])]))}},lt=y(st,[["__scopeId","data-v-6f0a2266"]]);export{lt as default};
